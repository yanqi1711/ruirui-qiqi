class Solution:
    def judgeSquareSum(self, c: int) -> bool:
        if not c:
            return True
        # ä¸ªæ•°å¦‚æžœå¯ä»¥è¡¨ç¤ºä¸ºä¸¤ä¸ªå¹³æ–¹æ•°ä¹‹å’Œï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ä¹˜ä»¥2åŽä»ç„¶å¯ä»¥è¡¨ç¤ºä¸ºä¸¤ä¸ªå¹³æ–¹æ•°ä¹‹å’Œ
        # å¦‚æžœä¸¤ä¸ªæ•°éƒ½èƒ½è¡¨ç¤ºä¸ºä¸¤ä¸ªå¹³æ–¹æ•°ä¹‹å’Œï¼Œé‚£ä¹ˆå®ƒä»¬çš„ä¹˜ç§¯ä¹Ÿèƒ½è¡¨ç¤ºä¸ºä¸¤ä¸ªå¹³æ–¹æ•°ä¹‹å’Œ
        # c=a^2 + b^2 2 = 1^2 + 1^2 
        while c % 2 == 0:
            c >>= 1
        # è´¹é©¬å¹³æ–¹å’Œå®šç† ä¸€ä¸ªç´ æ•° p å¯ä»¥è¡¨ç¤ºä¸ºä¸¤ä¸ªå¹³æ–¹æ•°ä¹‹å’Œï¼Œå½“ä¸”ä»…å½“ ð‘â‰¡1(mod4) æˆ– ð‘=2
        # åˆæ•°çš„æƒ…å†µ c åŒ…å«å½¢å¦‚4k+3 çš„ç´ æ•°å› å­ï¼Œå¹¶ä¸”è¿™äº›å› å­çš„å¹‚æ¬¡æ˜¯å¥‡æ•°ï¼Œé‚£ä¹ˆ c ä¸èƒ½è¡¨ç¤ºä¸ºä¸¤ä¸ªå¹³æ–¹æ•°ä¹‹å’Œ 
        # å› ä¸ºå¶æ•°çš„åŒ– å¦‚ 7 *7 æ˜¯å¯ä»¥å¯¹è‡ªèº«åˆ†è§£çš„

        # ç´ æ•°æƒ…å†µ
        # 1 å¦‚æžœ4k+3 ç›´æŽ¥è¿”å›žFalse å¦‚æžœæœ‰å¤§äºŽ1ä¸ªå°±ä¸ä¼š 49 = 0^2 +7^2 49%4 = 1
        if c % 4 == 3:
            return False

        # åˆæ•°->å”¯ä¸€åˆ†è§£å®šç† å¯ä»¥åˆ†è§£ä¸ºå”¯ä¸€çš„ç´ æ•°ç›¸ä¹˜
        # 2 4k+3 çš„ç´ æ•°å› å­çš„å¹‚æ¬¡å¿…é¡»ä¸ºå¶æ•°
        for i in range(3, int(sqrt(c))+1, 4):
            # è®°å½•å…¶ç´ æ•°å› å­ä¸ªæ•°
            count = 0
            # 49 //7 // 7 count = 2 å¯ä»¥åˆ†è§£
            while c % i == 0:
                c //= i
                count += 1
            if count % 2 != 0:
                return False
        return True
    
# class Solution:
#     def judgeSquareSum(self, c: int) -> bool:
#         if c == 0:
#             return True
#         from math import isqrt
#         myset = set()
#         for i in range(1,isqrt(c) + 1):
#             myset.add(i**2)
#         for j in range(isqrt(c) + 1):
#             if (c - j**2) in myset:
#                 return True
#         return False